<ddaplib-searchable-header class="no-border"
                           [backLink]="'../..'"
                           [label]="(collection$ | async)?.name"
                           [searchable]="true"
                           (searchOpenChange)="searchOpenedChange($event)">
  <ddap-beacon-search-bar [limitSearch]="limitSearch">
  </ddap-beacon-search-bar>
</ddaplib-searchable-header>

<ddaplib-main *ngIf="collection$ | async as collection">
  <ddap-resource-logo [imageUrl]="(collection$ | async)?.imageUrl">
    <ddap-limit-search *ngIf="searchOpened"
                       [checked]="limitSearch"
                       (change)="toggleLimitSearch()"
                       class="filter-top-border filter-inline"
                       [resourceName$]="resourceLabel$">
    </ddap-limit-search>
  </ddap-resource-logo>

  <ng-container *ngIf="collectionResources$ | async as collectionResourcesResponse">
    <div class="ddap-column-panel">
      <div class="ddap-column">
        <p>{{ collection.description }}</p>
        <ddap-metadata-list [metadata]="collection.metadata"></ddap-metadata-list>
      </div>
      <div class="ddap-column">
        <h3 class="flex vertical-center">
          <mat-icon class="icon icon-views"></mat-icon>
          <span>Views</span>
        </h3>
        <mat-list class="ddap-resource-views">
          <mat-list-item *ngFor="let resource of collectionResourcesResponse.data">
            <ddap-resource-view-item [resource]="resource">
            </ddap-resource-view-item>
          </mat-list-item>
        </mat-list>
      </div>
    </div>
  </ng-container>
</ddaplib-main>
